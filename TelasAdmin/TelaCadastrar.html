<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastrar Técnico/Admin</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
    }

    form {
        width: 80%;
        background-color: #fff;
        padding: 25px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .form-group {
        display: flex;
        justify-content: space-between;
        margin-bottom: 15px;
    }

    .form-group label {
        flex: 1;
        margin-right: 10px;
    }

    .form-group input {
        flex: 2;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .full-width {
        display: flex;
        flex-direction: column;
        margin-bottom: 15px;
    }

    .buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 15px;
    }

    .buttons button {
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        font-weight: bold;
        border-radius: 5px;
    }

    .cancelar {
        background-color: #d3d3d3;
    }

    .admin {
        background-color: #555;
        color: white;
    }

    .tecnico {
        background-color: #333;
        color: white;
    }

    .mensagem {
        margin-top: 20px;
        padding: 10px;
        border-radius: 5px;
        width: 80%;
        text-align: center;
        font-weight: bold;
    }

    .sucesso {
        color: green;
        border: 2px solid green;
    }

    .erro {
        color: red;
        border: 2px solid red;
    }
</style>
</head>
<body>

<h2>Cadastrar Técnico / Administrador</h2>

<form id="formCadastro">
    <div class="form-group">
        <label>Nome completo*</label>
        <input type="text" id="nome">
        <label>ID*</label>
        <input type="text" id="id">
    </div>

    <div class="form-group">
        <label>CPF*</label>
        <input type="text" id="cpf">
        <label>Telefone*</label>
        <input type="text" id="telefone">
    </div>

    <div class="form-group">
        <label>Área de Especialização</label>
        <input type="text" id="especializacao">
        <label>Nível de Experiência</label>
        <input type="text" id="nivel">
    </div>

    <div class="full-width">
        <label>E-mail corporativo*</label>
        <input type="email" id="email">
    </div>

    <div class="form-group">
        <label>Senha*</label>
        <input type="password" id="senha">
        <label>Confirmação de Senha*</label>
        <input type="password" id="confirmarSenha">
    </div>

    <small>(mínimo de 8 caracteres, deve incluir números e letras)</small>

    <div class="buttons">
        <button type="button" class="cancelar" onclick="window.history.back()">CANCELAR</button>
        <button type="button" class="admin" onclick="cadastrar('admin')">CADASTRAR ADMINISTRADOR</button>
        <button type="button" class="tecnico" onclick="cadastrar('tecnico')">CADASTRAR TÉCNICO</button>
    </div>
</form>

<div id="mensagem" class="mensagem"></div>

<script>
function cadastrar(tipo) {
    const camposObrigatorios = ['nome', 'id', 'cpf', 'telefone', 'email', 'senha', 'confirmarSenha'];
    let todosPreenchidos = true;

    for (let campo of camposObrigatorios) {
        const input = document.getElementById(campo);
        if (input.value.trim() === '') {
            todosPreenchidos = false;
            break;
        }
    }

    const senha = document.getElementById("senha").value;
    const confirmar = document.getElementById("confirmarSenha").value;
    const msg = document.getElementById("mensagem");

    msg.className = "mensagem"; // limpa classes anteriores

    if (!todosPreenchidos) {
        msg.classList.add("erro");
        msg.textContent = "✖ Preencha todos os campos obrigatórios antes de enviar.";
        return;
    }

    if (senha.length < 8 || !/[A-Za-z]/.test(senha) || !/\d/.test(senha)) {
        msg.classList.add("erro");
        msg.textContent = "✖ A senha deve ter pelo menos 8 caracteres, incluindo letras e números.";
        return;
    }

    if (senha !== confirmar) {
        msg.classList.add("erro");
        msg.textContent = "✖ As senhas não coincidem.";
        return;
    }

    // Se passou em todas as validações:
    msg.classList.add("sucesso");
    msg.textContent = tipo === "tecnico"
        ? "✔ Técnico cadastrado com sucesso!"
        : "✔ Administrador cadastrado com sucesso!";

    // Aqui você pode fazer o fetch POST para o backend:
    /*
    fetch('http://localhost:3000/cadastrar', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            tipo, nome, id, cpf, telefone, especializacao, nivel, email, senha
        })
    })
    .then(res => res.json())
    .then(data => console.log(data));
    */
}
</script>

</body>
</html>
